<div *ngIf="errors" class="alert alert-danger" role="alert">
  {{ errors }}
</div>
<h1>Orden de compras</h1>
<hr>
<form [formGroup]="formulario" novalidate>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="orden"> Numero de Orden</label>
      <input type="number" class="form-control" id="orden" formControlName="orden"  >
    </div>
    <div class="form-group col-md-6">
      <label for="nombre_tecnico">Nombre del tecnico</label>
      <input type="text" class="form-control" id="nombre_tecnico" formControlName="nombre_tecnico" disabled >
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="cliente"> Cedula de cliente</label>
      <input type="number" class="form-control" id="cliente" formControlName="cliente"  >
    </div>
    <div class="form-group col-md-6">
      <label for="nombre">Nombre de cliente</label>
      <input type="text" class="form-control" id="nombre" formControlName="nombre" >
    </div>
  </div>
  <button type="button" (click) ='guardar()' [disabled]="formulario.invalid" class="btn btn-primary col-md-3 offset-4">Guardar Orden</button>
</form>
<hr>
<div class="form-row">
  <div class="form-group col-md-3 offset-3"> <h1><small>Articulos</small></h1></div>
  <div class="form-group col-md-4 offset-1">
    <button type="button" class="btn btn-secondary" (click) ="abrirDialogo('Add')" >Agregar articulo</button>
  </div>
</div>
<hr>
<table class="table table-sm" *ngIf="orden.articulos.length>0">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">SKU</th>
      <th scope="col">Nombre</th>
      <th scope="col">Tipo</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let articulo of orden.articulos; let i=index">
        <td>{{ i+1 }}</td>
        <td>{{ articulo.sku }}</td>
        <td>{{ articulo.nombreArticulo}}</td>
        <td>{{ articulo.tipo }}</td>
        <th scope="col"><a class ="btn btn-outline-warning" (click) ="abrirDialogo('Update',i)">Editar</a></th>
        <th scope="col"><a class ="btn btn-outline-danger" (click) ="abrirDialogo('Delete',i)">Borrar</a></th>
      </tr>
  </tbody>
</table>



